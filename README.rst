NumPy Vendor
============

This builds Linux and Windows release binaries and sources for NumPy using
a Vagrant VM. It should be 100% reproducible. You need Vagrant and Fabric.

The NumPy release notes are here:

https://github.com/numpy/numpy/blob/master/doc/HOWTO_RELEASE.rst.txt

But most of it is automated by numpy-vendor, so once the release branch is
approved for release, just follow the instructions below.

How To Use
----------

Do::

    vagrant up
    fab vagrant prepare

Log in and manually inspect the numpy repository (do some last minute fixes,
checkout a branch, etc.)::

    vagrant ssh
    cd repos/numpy
    # Do any changes that are not in official repositories

Do the release (build general and windows binaries from the ``repos/numpy``
directory in the Vagrant VM)::

    fab vagrant numpy_release

And the directories ``release``, ``dist`` and ``build_doc`` will be copied to
the current directory from the VM. If you need anything else, just login using
``vagrant ssh`` and copy it to ``/vagrant`` inside the VM.

Expert Usage
------------

If you want to start from scratch, but want to reuse the existing vagrant
image, you can keep all the deb packages, but reinstall everything else
(NumPy, Wine, ...) from scratch. Do::

    fab vagrant remove_userspace
    fab vagrant prepare_userspace

This will delete all builds and other possible changes that you made into
the vagrant image. This is equivalent to ``fab vagrant prepare``, but faster.

SourceForge
-----------

Upload the release to SourceForge:

http://sourceforge.net/projects/numpy/files/NumPy/

Lookup the last release to see which files need to be uploaded. They should be
all generated by numpy-vendor, except the Mac binaries.
